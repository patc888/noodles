<?xml version="1.0" encoding="UTF-8"?>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.3.0/pure-min.css"/>
    <link rel="stylesheet" href="http://purecss.io/combo/1.6.3?/css/main.css&/css/grids.css&/css/rainbow/baby-blue.css"/>
    <link rel="stylesheet" href="index.css"/>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script src="http://yui.yahooapis.com/3.13.0/build/yui/yui-min.js"></script>

    <!-- Style for responses -->
    <style type='text/css'>  
      .pre{ white-space: pre; }
      td{ vertical-align: top; }
    </style>
  </head>

  <body>
    <div class="header">
      <h1>rest</h1>
    </div>
    <div class="content">
      <p>
        This example demonstrates how to make all four kinds of REST calls - GET, POST, PUT, and DELETE.
        [<a href="apis/source?file=webpages/rest.html">view source</a>]
      </p>

      <table class="pure-table pure-table-bordered">
        <tbody>
          <thead>
            <tr>
              <th>Method</th>
              <th></th>
              <th></th>
            </tr>
          </thead>

          <!-- GET -->
          <tr>
            <td rowspan="2">GET</td>
            <td>Request</td>
            <td>/apis/rest/ant/bat?p3=cat&p4=dog</td>
          </tr>
          <tr>
            <td>Response</td>
            <td class="pre" id="results_get"></td>
          </tr>

          <!-- POST -->
          <tr>
            <td rowspan="3">POST</td>
            <td>Request</td>
            <td>/apis/rest/ant/bat?p3=cat&p4=dog</td>
          </tr>
          <tr>
            <td>Body</td>
            <td>p5=eel&p6=fox</td>
          </tr>
          <tr>
            <td>Response</td>
            <td class="pre" id="results_post"></td>
          </tr>

          <!-- PUT -->
          <tr>
            <td rowspan="3">PUT</td>
            <td>Request</td>
            <td>/apis/rest/ant/bat?p3=cat&p4=dog</td>
          </tr>
          <tr>
            <td>Body</td>
            <td>p5=eel&p6=fox</td>
          </tr>
          <tr>
            <td>Response</td>
            <td class="pre" id="results_put"></td>
          </tr>

          <!-- DELETE -->
          <tr>
            <td rowspan="2">DELETE</td>
            <td>Request</td>
            <td>/apis/rest/ant/bat?p3=cat&p4=dog</td>
          </tr>
          <tr>
            <td>Response</td>
            <td class="pre" id="results_delete"></td>
          </tr>
        </tbody>
      </table>

      <script>
        YUI().use('io', 'json-parse', function(Y) {
          // GET
          Y.io('apis/rest/ant/bat?p3=cat&p4=dog', {
            on: { 
              success: function(tx, reply) {
                document.getElementById('results_get').innerHTML = reply.responseText;
              } 
            }
          });

          // POST
          Y.io('apis/rest/ant/bat?p3=cat&p4=dog', {
            method: 'POST',
            data: 'p5=eel&p6=fox',
            on: { 
              success: function(tx, reply) {
                document.getElementById('results_post').innerHTML = reply.responseText;
              } 
            }
          });

          // PUT
          Y.io('apis/rest/ant/bat?p3=cat&p4=dog', {
            method: 'PUT',
            data: 'p5=eel&p6=fox',
            on: { 
              success: function(tx, reply) {
                document.getElementById('results_put').innerHTML = reply.responseText;
              } 
            }
          });
        
          // DELETE
          Y.io('apis/rest/ant/bat?p3=cat&p4=dog', {
            method: 'DELETE',
            data: 'p5=eel&p6=fox',
            on: { 
              success: function(tx, reply) {
                document.getElementById('results_delete').innerHTML = reply.responseText;
              } 
            }
          });
        });
      </script>
    </div>
  </body>
</html>
